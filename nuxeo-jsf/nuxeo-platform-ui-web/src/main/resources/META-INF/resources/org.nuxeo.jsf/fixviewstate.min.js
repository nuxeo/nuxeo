var OmniFaces=OmniFaces||{};OmniFaces.FixViewState=(function(d,a){var g="javax.faces.ViewState";var e=new RegExp("^([\\w]+:)?"+g.replace(/\./g,"\\.")+"(:[0-9]+)?$");var b={};b.apply=function(m){if(typeof m==="undefined"){return}var l=c(m);if(!l){return}for(var j=0;j<a.forms.length;j++){var k=a.forms[j];var h=k[g];if(k.method=="post"){if(!h){f(k,l)}else{if(!/.+:.+/.exec(h.value)){h.value=l}}}}};function c(k){var j=k.getElementsByTagName("update");for(var h=0;h<j.length;h++){var l=j[h];if(e.exec(l.getAttribute("id"))){return l.textContent||l.innerText}}return null}function f(h,j){var i;try{i=a.createElement("<input name='"+g+"'>")}catch(k){i=a.createElement("input");i.setAttribute("name",g)}i.setAttribute("type","hidden");i.setAttribute("value",j);i.setAttribute("autocomplete","off");h.appendChild(i)}if(d.jsf){jsf.ajax.addOnEvent(function(h){if(h.status=="success"){b.apply(h.responseXML)}})}if(d.jQuery){jQuery(a).ajaxComplete(function(i,j,h){if(typeof j!=="undefined"){b.apply(j.responseXML)}})}return b})(window,document);