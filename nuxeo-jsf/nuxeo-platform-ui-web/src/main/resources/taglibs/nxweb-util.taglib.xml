<!DOCTYPE facelet-taglib PUBLIC
  "-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN"
  "http://java.sun.com/dtd/facelet-taglib_1_0.dtd">

<!--
  NXWebPlatform (re)definition of basic tags
-->

<facelet-taglib>
  <namespace>http://nuxeo.org/nxweb/util</namespace>
  <function>
    <function-name>test</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.Object test(java.lang.Boolean, java.lang.Object,
      java.lang.Object)
    </function-signature>
  </function>
  <function>
    <function-name>printFileSize</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String printFileSize(java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>printFormatedFileSize</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String printFormatedFileSize(java.lang.String, java.lang.String,
      java.lang.Boolean)
    </function-signature>
  </function>
  <function>
    <function-name>printFormattedDuration</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String printFormattedDuration(java.lang.Object, java.util.Map)
    </function-signature>
  </function>
  <function>
    <function-name>join</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String join(java.lang.String[], java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>joinCollection</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String joinCollection(java.util.Collection, java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>joinCollectionWithFinalDelimiter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String joinCollectionWithFinalDelimiter(java.util.Collection,
      java.lang.String, java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>joinArrayWithFinalDelimiter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String joinArrayWithFinalDelimiter(java.lang.Object[],
      java.lang.String, java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>concat</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String concat(java.lang.String, java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>indentString</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String indentString(java.lang.Integer, java.lang.String)
    </function-signature>
  </function>

  <!-- @deprecated since 5.9.1, use dateFormatter instead -->
  <function>
    <function-name>dateFormater</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String dateFormatter(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>dateFormatter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String dateFormatter(java.lang.String)
    </function-signature>
  </function>

  <!-- @deprecated since 5.9.1, use basicDateFormatter instead -->
  <function>
    <function-name>basicDateFormater</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String basicDateFormatter()
    </function-signature>
  </function>

  <function>
    <function-name>basicDateFormatter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String basicDateFormatter()
    </function-signature>
  </function>

  <function>
    <function-name>formatDateUsingBasicFormatter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String formatDateUsingBasicFormatter(java.util.Date)
    </function-signature>
  </function>

  <!-- @deprecated since 5.9.1, use dateAndTimeFormatter instead -->
  <function>
    <function-name>dateAndTimeFormater</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String dateAndTimeFormatter(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>dateAndTimeFormatter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String dateAndTimeFormatter(java.lang.String)
    </function-signature>
  </function>

  <!-- @deprecated since 5.9.1, use dateAndTimeFormatter instead -->
  <function>
    <function-name>basicDateAndTimeFormater</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String basicDateAndTimeFormatter()
    </function-signature>
  </function>

  <function>
    <function-name>basicDateAndTimeFormatter</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String basicDateAndTimeFormatter()
    </function-signature>
  </function>

  <function>
    <function-name>integerDivision</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.Integer integerDivision(java.lang.Integer, java.lang.Integer)
    </function-signature>
  </function>

  <function>
    <function-name>userIsMemberOf</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      boolean userIsMemberOf(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>userFullName</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String userFullName(java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>groupFullName</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String groupFullName(java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>userDisplayName</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String userDisplayName(java.lang.String, java.lang.String,
      java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>userDisplayNameAndEmail</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String userDisplayNameAndEmail(java.lang.String, java.lang.String,
      java.lang.String, java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>groupDisplayName</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String groupDisplayName(java.lang.String, java.lang.String)
    </function-signature>
  </function>
  <function>
    <function-name>htmlEscape</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String htmlEscape(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>javaScriptEscape</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String javaScriptEscape(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>translate</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String translate(java.lang.String, java.lang.Object[])
    </function-signature>
  </function>

  <!-- XXX AT: should be in nxdirectory taglib, not util -->
  <function>
    <function-name>getCSLData</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.directory.DirectoryFunctions
    </function-class>
    <function-signature>List getCSLData(java.lang.String)</function-signature>
  </function>
  <!-- XXX AT: should be in nxdirectory taglib, not util -->
  <function>
    <function-name>getListSize</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.directory.DirectoryFunctions
    </function-class>
    <function-signature>int getListSize(java.lang.String)</function-signature>
  </function>

  <function>
    <function-name>hasMessages</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      boolean hasMessages(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>userUrl</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String userUrl(java.lang.String, java.lang.String,
      java.lang.String, boolean)
    </function-signature>
  </function>

  <function>
    <function-name>combineLists</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      String combineLists(java.util.List[])
    </function-signature>
  </function>

  <function>
    <function-name>jsfTagIdEscape</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String jsfTagIdEscape(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>fileExtension</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String fileExtension(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>fileBaseName</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String fileBaseName(java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>joinRender</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String joinRender(java.lang.String, java.lang.String)
    </function-signature>
  </function>

  <function>
    <function-name>componentAbsoluteId</function-name>
    <function-class>
      org.nuxeo.ecm.platform.ui.web.tag.fn.Functions
    </function-class>
    <function-signature>
      java.lang.String componentAbsoluteId(javax.faces.component.UIComponent, java.lang.String)
    </function-signature>
  </function>

  <tag>
    <tag-name>methodResult</tag-name>
    <handler-class>
      org.nuxeo.ecm.platform.ui.web.tag.handler.MethodResultTagHandler
    </handler-class>
  </tag>
  <tag>
    <tag-name>set</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.binding.alias.UIAliasHolder
      </component-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.SetTagHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>repeat</tag-name>
    <handler-class>
      org.nuxeo.ecm.platform.ui.web.tag.handler.RepeatTagHandler
    </handler-class>
  </tag>
  <tag>
    <tag-name>actionListenerMethod</tag-name>
    <handler-class>
      org.nuxeo.ecm.platform.ui.web.tag.handler.ActionListenerMethodTagHandler
    </handler-class>
  </tag>
  <!-- selectItems easy utility -->
  <tag>
    <tag-name>selectItems</tag-name>
    <component>
      <!-- see http://jsf-comp.sourceforge.net/components/easysi/index.html, need
        to include license -->
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.UISelectItems
      </component-type>
    </component>
  </tag>
  <tag>
    <tag-name>selectItem</tag-name>
    <component>
      <!-- see http://jsf-comp.sourceforge.net/components/easysi/index.html, need
        to include license -->
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.UISelectItem
      </component-type>
    </component>
  </tag>
  <tag>
    <tag-name>inputFile</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.file.UIInputFile
      </component-type>
      <handler-class>
        com.sun.faces.facelets.tag.jsf.html.HtmlComponentHandler
      </handler-class>
    </component>
  </tag>
  <!-- validator tags for inputFile -->
  <tag>
    <tag-name>validateFileSize</tag-name>
    <validator>
      <validator-id>InputFileSizeValidator</validator-id>
    </validator>
  </tag>
  <tag>
    <tag-name>validateFileMimetype</tag-name>
    <validator>
      <validator-id>InputFileMimetypeValidator</validator-id>
    </validator>
  </tag>
  <tag>
    <tag-name>validateDocumentConstraint</tag-name>
    <validator>
      <validator-id>DocumentConstraintValidator</validator-id>
    </validator>
  </tag>
  <tag>
    <tag-name>outputFile</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.file.UIOutputFile
      </component-type>
      <handler-class>
        com.sun.faces.facelets.tag.jsf.html.HtmlComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>inputList</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.list.UIEditableList
      </component-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.binding.alias.AliasAnchorComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>editor</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.editor.UIHtmlEditor
      </component-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.GenericHtmlComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>inputDateTime</tag-name>
    <component>
      <component-type>org.richfaces.Calendar</component-type>
      <renderer-type>org.richfaces.CalendarRenderer</renderer-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.InputDateTimeTagHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>valueHolder</tag-name>
    <component>
      <component-type>
        org.nuxeo.ecm.platform.ui.web.component.holder.UIValueHolder
      </component-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.component.holder.ValueHolderTagHandler
      </handler-class>
    </component>
  </tag>

  <!-- old tomahawk tags, migrated to use RichFaces tags -->
  <tag>
    <tag-name>dataList</tag-name>
    <component>
      <component-type>org.richfaces.List</component-type>
      <renderer-type>org.richfaces.ListRenderer</renderer-type>
      <handler-class>org.richfaces.taglib.ListHandler</handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>dataTable</tag-name>
    <component>
      <component-type>javax.faces.HtmlDataTable</component-type>
      <renderer-type>javax.faces.Table</renderer-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.binding.alias.AliasAnchorComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>column</tag-name>
    <component>
      <component-type>javax.faces.Column</component-type>
    </component>
  </tag>
  <tag>
    <tag-name>inputDate</tag-name>
    <component>
      <component-type>nuxeo.web.disabled</component-type>
    </component>
  </tag>
  <tag>
    <tag-name>inputCalendar</tag-name>
    <component>
      <component-type>nuxeo.web.disabled</component-type>
    </component>
  </tag>
  <tag>
    <tag-name>schedule</tag-name>
    <component>
      <component-type>nuxeo.web.disabled</component-type>
    </component>
  </tag>
  <tag>
    <tag-name>graphicImage</tag-name>
    <component>
      <component-type>javax.faces.HtmlGraphicImage</component-type>
      <renderer-type>javax.faces.NXImage</renderer-type>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.GenericHtmlComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>inputFileUpload</tag-name>
    <component>
      <component-type>nuxeo.web.disabled</component-type>
    </component>
  </tag>
  <tag>
    <tag-name>selectOneRadio</tag-name>
    <component>
      <component-type>javax.faces.SelectOne</component-type>
      <renderer-type>
        org.nuxeo.ecm.platform.ui.web.component.radio.SelectOneRadioRenderer
      </renderer-type>
      <renderer-class>
        org.nuxeo.ecm.platform.ui.web.component.radio.SelectOneRadioRenderer
      </renderer-class>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.GenericHtmlComponentHandler
      </handler-class>
    </component>
  </tag>
  <tag>
    <tag-name>radio</tag-name>
    <component>
      <component-type>org.nuxeo.Radio</component-type>
      <renderer-type>
        org.nuxeo.ecm.platform.ui.web.component.radio.SingleRadioRenderer
      </renderer-type>
      <renderer-class>
        org.nuxeo.ecm.platform.ui.web.component.radio.SingleRadioRenderer
      </renderer-class>
      <handler-class>
        org.nuxeo.ecm.platform.ui.web.tag.handler.GenericHtmlComponentHandler
      </handler-class>
    </component>
  </tag>

  <tag>
    <tag-name>lazyTree</tag-name>
    <component>
      <component-type>nuxeo.web.disabled</component-type>
    </component>
  </tag>

</facelet-taglib>
