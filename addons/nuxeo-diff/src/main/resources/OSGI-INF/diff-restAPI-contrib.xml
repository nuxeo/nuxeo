<?xml version="1.0"?>
<component name="org.nuxeo.ecm.diff.restAPI.contrib">

  <extension
    target="org.nuxeo.ecm.platform.ui.web.restAPI.service.PluggableRestletService"
    point="restlets">

    <!--
    <documentation>
      GET
      /nuxeo/restAPI/contentDiff/{repo}/{leftDocId}/{rightDocId}/{fieldXPath}?subPath={subPath}
    </documentation>
    -->
    <documentation>
      GET
      /nuxeo/restAPI/contentDiff/{repo}/{leftDocId}/{rightDocId}/{fieldXPath}/{conversionType}
    </documentation>

    <restletPlugin name="contentDiff"
      class="org.nuxeo.ecm.diff.restlet.ContentDiffRestlet" enabled="true"
      useSeam="true">
      <urlPatterns>
        <urlPattern>/contentDiff/{repo}/{leftDocId}/{rightDocId}/{fieldXPath}/
        </urlPattern>
        <!--
        <urlPattern>/contentDiff/{repo}/{leftDocId}/{rightDocId}/{fieldXPath}/{subPath}
        </urlPattern>
        -->
        <urlPattern>/contentDiff/{repo}/{leftDocId}/{rightDocId}/{fieldXPath}/{conversionType}
        </urlPattern>
      </urlPatterns>
    </restletPlugin>
  </extension>

</component>
