<div xmlns:nxu="http://nuxeo.org/nxweb/util"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:a4j="http://richfaces.org/a4j"
     xmlns:c="http://java.sun.com/jstl/core"
     xmlns:nxh="http://nuxeo.org/nxweb/html"
     xmlns:nxl="http://nuxeo.org/nxforms/layout"
     xmlns:nxd="http://nuxeo.org/nxweb/document"
     class="infoTabContent">

  <a4j:form id="assetView">
    <div class="togglePanel">
      <div class="togglePanelTitleBox">
        <h3 class="noIcon">
          <h:outputText value="#{messages['label.header.ip.rights']}"/>
        </h3>
        <div class="dataBlockActions">
          <span>
            <a4j:commandLink styleClass="button"
                             action="#{damDocumentActions.updateCurrentSelection}"
                             rendered="#{damDocumentActions.displayMode == 'edit'}"
                             reRender="assetView">
              <h:outputText value="#{messages['command.save']}"/>
            </a4j:commandLink>
          </span>
          <span>
            <a4j:commandLink styleClass="button"
                             action="#{damDocumentActions.toggleDisplayMode}"
                             immediate="true" reRender="assetView" rendered="#{damDocumentActions.canEditAsset()}">
              <h:outputText value="#{messages['command.cancel']}"
                            rendered="#{damDocumentActions.displayMode == 'edit'}"/>
              <h:outputText value="#{messages['command.edit']}"
                            rendered="#{damDocumentActions.displayMode == 'view'}"/>
            </a4j:commandLink>
          </span>
        </div>
        <div style="clear:both;"></div>
      </div>
      <div class="togglePanelBody">
        <f:subview id="viewIRights" rendered="#{damDocumentActions.displayMode == 'view'}">
          <nxl:layout name="ip_rights" mode="view" value="#{damDocumentActions.currentSelection}"/>
        </f:subview>
        <f:subview id="editIPRights" rendered="#{damDocumentActions.displayMode == 'edit'}">
          <nxl:layout name="ip_rights" mode="edit" value="#{damDocumentActions.currentSelection}"/>
        </f:subview>
      </div>
      <div class="togglePanelBody">
        <p>
          <h:outputText value="#{messages['label.ip_rights.creative.commons.licenses.message']}" />
          <a href="http://creativecommons.org/licenses/" class="external" onclick="window.open(this.href); return false;">
            <h:outputText value="#{messages['label.ip_rights.creative.commons.licenses']}" />
          </a>
        </p>
      </div>
    </div>
  </a4j:form>


</div>
