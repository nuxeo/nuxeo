<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

<h:form enctype="multipart/form-data" id="document_edit">

  <nxl:documentLayout mode="edit" value="#{currentDocument}" />
  <ui:include src="/incl/document_versioning.xhtml" />

  <table class="dataInput">
    <tbody>
      <tr>
        <td class="iconColumn" style="vertical-align:top;">
          <h:graphicImage value="/icons/lightbulb.png"
            styleClass="layoutHelpLabel"
            title="#{messages['label.editComment.tooltip']}" />
        </td>
        <td class="labelColumn">
          <h:outputText value="#{messages['label.editComment']}" />
        </td>
        <td class="fieldColumn">
          <h:inputTextarea value="#{currentDocument.contextData['request/comment']}" />
        </td>
      </tr>
    </tbody>
  </table>

  <p class="buttonsGadget">
    <nxu:set var="actions"
      value="#{webActions.getActionsList('EDIT_DOCUMENT_FORM')}"
      cache="true">
      <c:forEach var="action" items="#{actions}">
        <nxh:commandButton action="#{action.getLink()}"
          immediate="#{action.immediate}"
          onclick="#{action.confirm}"
          id="edit_doc_#{action.id}"
          value="#{messages[action.label]}"
          styleClass="button" />
      </c:forEach>
    </nxu:set>
  </p>

</h:form>
</div>
