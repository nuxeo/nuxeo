<?xml version="1.0"?>
<component name="org.nuxeo.drive.layouts">

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="layouts">

    <layout name="driveSynchronizationRoots">
      <templates>
        <template mode="any">
          /layouts/synchronization_roots_layout_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>syncRootTitle</widget>
        </row>
        <row>
          <widget>syncRootPath</widget>
        </row>
      </rows>
    </layout>

    <layout name="driveFormToggleLayout">
      <templates>
        <template mode="any">
          /layouts/layout_div_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>infoViewTitleContainer</widget>
        </row>
        <row>
          <widget>toggle</widget>
        </row>
        <row>
          <widget>infoViewActions</widget>
        </row>
      </rows>
      <widget name="toggle" type="toggleableLayoutWithForms">
        <labels>
          <label mode="any">view.drive.title.metadata</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field></field>
        </fields>
        <properties mode="any">
          <property name="initialLayoutName">driveFormLayout</property>
          <property name="toggledLayoutName">driveFormLayout</property>
          <property name="displayToggleActionInHeader">true</property>
          <property name="useAjaxForm">false</property>
          <property name="hideDefaultActions">true</property>
          <property name="additionalActionsCategory">DRIVE_ACTION_VIEW</property>
        </properties>
        <controls mode="any">
          <control name="handleLabels">true</control>
        </controls>
      </widget>
    </layout>

    <layout name="driveFormLayout">
      <templates>
        <template mode="any">
          /layouts/layout_default_template.xhtml
        </template>
      </templates>

      <rows>
        <row>
          <widget>title</widget>
        </row>
        <row>
          <widget>description</widget>
        </row>
        <row>
          <widget>coverage</widget>
        </row>
        <row>
          <widget>subject</widget>
        </row>
        <row>
          <widget>nature</widget>
        </row>
      </rows>
      <widget name="title" type="text">
        <labels>
          <label mode="any">label.dublincore.title</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
          <property name="required">true</property>
        </properties>
      </widget>
      <widget name="description" type="textarea">
        <labels>
          <label mode="any">label.dublincore.description</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:description</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="coverage" type="suggestOneDirectory">
        <labels>
          <label mode="any">label.dublincore.coverage</label>
        </labels>
        <helpLabels>
          <label mode="edit">label.dublincore.coverage.info</label>
        </helpLabels>
        <translated>true</translated>
        <fields>
          <field>dc:coverage</field>
        </fields>
        <widgetModes>
          <mode value="view_summary">#{empty
            layoutValue.dc.coverage?'hidden':'view'}</mode>
        </widgetModes>
        <properties mode="any">
          <property name="width">300</property>
          <property name="dbl10n">true</property>
          <property name="minChars">0</property>
          <property name="hideHelpLabel">true</property>
          <property name="directoryName">l10ncoverage</property>
        </properties>
      </widget>
      <widget name="subject" type="suggestManyDirectory">
        <labels>
          <label mode="any">label.dublincore.subject</label>
        </labels>
        <helpLabels>
          <label mode="edit">label.dublincore.subjects.info</label>
        </helpLabels>
        <translated>true</translated>
        <fields>
          <field>dc:subjects</field>
        </fields>
        <widgetModes>
          <mode value="view_summary">#{empty
            layoutValue.dc.subjects?'hidden':'view'}</mode>
        </widgetModes>
        <properties mode="any">
          <property name="width">300</property>
          <property name="dbl10n">true</property>
          <property name="minChars">0</property>
          <property name="hideHelpLabel">true</property>
          <property name="directoryName">l10nsubjects</property>
        </properties>
      </widget>
      <widget name="nature" type="suggestOneDirectory">
        <labels>
          <label mode="any">label.dublincore.nature</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:nature</field>
        </fields>
        <widgetModes>
          <mode value="view_summary">#{empty
            layoutValue.dc.nature?'hidden':'view'}</mode>
        </widgetModes>
        <properties mode="any">
          <property name="width">300</property>
          <property name="minChars">0</property>
          <property name="hideHelpLabel">true</property>
          <property name="directoryName">nature</property>
          <property name="localize">true</property>
        </properties>
      </widget>
    </layout>

  </extension>

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="widgets">

    <widget name="syncRootTitle" type="listing_title_link">
      <labels>
        <label mode="any">user.center.nuxeoDrive.syncRoots.title</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field></field>
        <field>ref</field>
        <field>dc.description</field>
      </fields>
      <widgetModes>
        <mode value="any">view</mode>
      </widgetModes>
    </widget>

    <widget name="syncRootPath" type="text">
      <labels>
        <label mode="any">user.center.nuxeoDrive.syncRoots.path</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>pathAsString</field>
      </fields>
      <widgetModes>
        <mode value="edit">view</mode>
      </widgetModes>
    </widget>

  </extension>

</component>
