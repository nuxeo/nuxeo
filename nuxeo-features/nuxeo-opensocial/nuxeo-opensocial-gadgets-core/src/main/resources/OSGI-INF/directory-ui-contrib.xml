<?xml version="1.0"?>
<component name="xml-opensocialDashboard.directoryUIContrib">

  <extension target="org.nuxeo.ecm.directory.ui.DirectoryUIManager"
    point="directories">
    <directory name="external gadget list" layout="externalGadgetLayout"
      sortField="label" />
  </extension>
  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="layouts">

    <layout name="externalGadgetLayout">
      <templates>
        <template mode="any">
          /directory/directory_layout_template.xhtml
        </template>
      </templates>
      <rows>
        <row>
          <widget>id</widget>
        </row>
        <row>
          <widget>label</widget>
        </row>
        <row>
          <widget>enabled</widget>
        </row>
        <row>
          <widget>category</widget>
        </row>
        <row>
          <widget>url</widget>
        </row>
        <row>
          <widget>iconUrl</widget>
        </row>
      </rows>

      <widget name="id" type="text">
        <labels>
          <label mode="any">Name</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.id</field>
        </fields>
      </widget>
      <widget name="label" type="text">
        <labels>
          <label mode="any">Label</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.label</field>
        </fields>
      </widget>
      <widget name="enabled" type="template">
        <labels>
          <label mode="any">Enabled</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.enabled</field>
        </fields>
        <properties mode="any">
        <property name="template">
          /widgets/integer_yes_no_widget_template.xhtml
        </property>
      </properties>
        
      </widget>
      <widget name="category" type="text">
        <labels>
          <label mode="any">Category</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.category</field>
        </fields>
      </widget>
      <widget name="url" type="text">
        <labels>
          <label mode="any">Gadget URL</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.url</field>
        </fields>
      </widget>

      <widget name="iconUrl" type="text">
        <labels>
          <label mode="any">Icon URL</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>externalgadget.iconUrl</field>
        </fields>
      </widget>

    </layout>
  </extension>
</component>