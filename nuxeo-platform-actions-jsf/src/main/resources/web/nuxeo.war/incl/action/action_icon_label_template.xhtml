<c:if test="true"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html">

<nxu:set var="actionLabel" value="#{messages[action.label]}"
  resolveTwice="true" cache="true">
<nxu:set var="actionIcon" value="#{action.icon}"
  resolveTwice="true" cache="true">
  <c:if test="#{not hideIcon}">
    <c:if test="#{empty actionIcon and hideLabel}">
      <c:if test="false">at least display a default image</c:if>
      <h:graphicImage value="/icons/action_empty.png"
        title="#{actionLabel}"
        alt="#{actionLabel}"
        styleClass="smallIcon tipsyShow tipsyGravitySE #{action.properties.iconStyleClass}" />
    </c:if>
    <c:if test="#{not empty actionIcon}">
      <h:graphicImage value="#{actionIcon}"
        title="#{actionLabel}"
        alt="#{actionLabel}"
        styleClass="smallIcon tipsyShow tipsyGravitySE #{action.properties.iconStyleClass}" />
    </c:if>
  </c:if>
  <c:if test="#{not hideIcon and not hideLabel}">
    <h:outputText value=" " />
  </c:if>
  <c:if test="#{not hideLabel}">
    <h:outputText value="#{actionLabel}"
      styleClass="actionLabel #{action.properties.labelStyleClass}" />
  </c:if>
</nxu:set>
</nxu:set>

</c:if>