<?xml version="1.0" encoding="UTF-8"?>

<component name="org.nuxeo.ecm.webengine.sites.ecm.types">

  <require>org.nuxeo.ecm.platform.types.TypeService</require>

  <extension target="org.nuxeo.ecm.platform.types.TypeService"
    point="types">

    <type id="WebComment" coretype="WebComment">
      <icon>/icons/forum_post.gif</icon>
      <label>label.document.post</label>
    </type>
    
    <type id="WebPage" coretype="WebPage">
      <label>Web Page</label>
      <icon>/icons/page_white_world.png</icon>
      <icon-expanded>/icons/web_folder.png</icon-expanded>
      <default-view>view_documents</default-view>
      <subtypes>
        <type>WebPage</type>
        <type>ContextualLink</type>
      </subtypes>
      <!-- new layout config -->
      <layouts mode="any">
        <layout>heading</layout>
        <layout>webpage</layout>
      </layouts>
    </type>

    <!-- ContextualLink doc type definition  -->    
    <type id="ContextualLink" coretype="ContextualLink">
      <label>Contextual Link</label>
      <icon>/icons/file.gif</icon>
      <default-view>view_documents</default-view>
      <!-- new layout config -->
      <layouts mode="any">
        <layout>heading</layout>
        <layout>contextualLink</layout>
      </layouts>
    </type>    

    <type id="Workspace" coretype="Workspace">
      <subtypes>
        <type>WebPage</type>
        <type>ContextualLink</type>
      </subtypes>
    </type>

  </extension>

  <extension target="org.nuxeo.ecm.core.lifecycle.LifeCycleService"
    point="types">
    <types>
      <type name="WebPage">default</type>
      <type name="ContextualLink">default</type>
    </types>
  </extension>
</component>