<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Rich text" height="95" scrolling="true"
    scaling="true" directory_title="Rich text"
    description="File browser in the ECM system" author="Guillaume CUSNIEUX"
    author_email="gcusnieux@leroymerlin.fr" author_affiliation="Leroy Merlin"
    author_location="Lezennes, France">
    <Require feature="dynamic-height" />
    <Require feature="nuxeo" />
    <Require feature="setprefs"/>
    <Require feature="jquery" />
    <Require feature="form" />
    <Require feature="nicedit" />
  </ModulePrefs>
  
  <UserPref name="richTitle" datatype="hidden"/>
  <UserPref name="link" datatype="hidden"/>
  <UserPref name="legend" datatype="hidden"/>
  <UserPref name="place" datatype="hidden"/>
  
  <Content type="html" view="default">
  <![CDATA[
  <style type='text/css'>
 	* {
  		font-family:Arial,Verdana;
        font-size:11px;
    }
    
    #hide img{
     border:0;
     padding:5px 5px 0 0;
    }
    
    
    label{
       font-family:Tahoma, Arial,Verdana;
       font-weight:bold;
       padding-left:8px;
    }
    
    #show a {
    	text-decoration:none;
      	padding-left:20px;
      	background:url(/nuxeo/img/edit.png) no-repeat 0 0;
      	color:#000000;
      	font-weight:bold;
    }
   	
   	#show a:hover {
		text-decoration:underline;
	}
	
	#hideContainer {
    	background:#666666;
    	text-align:right;
  	}
  	
  	#upload{
    	padding-left:14px;
    	background:url(/nuxeo/img/accept.png) no-repeat 0 0;
    	color:#FFFFFF;
    	display:block;
    	float:right;
    	font-weight:bold;
    	padding-left:18px;
    	text-decoration:none;
  	}
  	
  	.form{
   		background:#666666;
  	}
  	
  	#title-field,#link-field,#legend-field{
    	width:98%;
    	border:1px solid #ffffff;
  	}

  	.form td{
   		color:#ffffff;
  	}

  	#upload:hover{
      	text-decoration:underline;
    }
    </style>
    <script type="text/javascript" language="javascript" src="richtext.js"></script>
    <script type="text/javascript">
       var prefs = new _IG_Prefs(__MODULE_ID__);
	   
	   gadgets.util.registerOnLoadHandler( function() {
	  	 launchGadget();
	   });
    </script>
   <div id="title"></div>
   	<div style="text-align:center;margin:auto;">
   		<div id="photo"></div>
   		<div id="text"></div>
   		<img id="loader" src="/nuxeo/img/standart_waiter.gif"/>
		<a id="link" href="#" target="_tab" style="display:none;">
    		<img style="border:0;" id="photo" src="">
    	</a>
    	<div id="legend"></div>
    </div>
    <div id="perm">
	    <div id="show"><a href="#">Modifier</a></div>
	</div>
	   
   <div style="margin:auto;display:none;" id="form">
	<div id="hideContainer"><a href="#" id="hide" title="fermer"><img src="/nuxeo/img/x.png"></a></div>
	<table style="width:100%;margin-bottom:10px;" class="form">
  	<tr>
    	<td style="width:30%"><label for="title">Titre : </label></td>
    	<td style="width:70%"><input type="text" name="title" id="title-field" /></td>
  	</tr>
  	</table>
  	<textarea id="richtext" cols="35" style="width:100%"></textarea>
  	<table style="width:100%" class="form">
  	<tr>
    	<td style="width:30%"><label for="photo">Photo :</label> </td>
    	<td style="width:70%">
    	<form style="text-align:center;" method="post" id="formUpload" enctype="multipart/form-data" action="/nuxeo/site/gadgetDocumentAPI/setFile/">
    	<input type="file" name="file" id="file" size="20" />
    	</form>
  	</td>
  	</tr>
  	<tr>
  		<td colspan="2">
  			<input type="radio" class="place" name="place" value="left" checked>à gauche
			<input type="radio" class="place" name="place" value="center">au centre
			<input type="radio" class="place" name="place" value="rigth">à droite
		</td>
  	</tr>
  	<tr>
    	<td style="width:30%"><label for="link">Lien : </label></td>
   	 	<td style="width:70%"><input type="text" name="link" id="link-field" /></td>
  	</tr>
  	<tr>
    	<td style="width:30%"><label for="legend">Légende :</label></td>
    	<td style="width:70%"><input type="text" name="legend" id="legend-field" /></td>
  	</tr>
  	<tr>
   		<td style="width:30%"></td>
    	<td style="width:70%">
      		<a href="" id="upload">Valider</a>
    	</td>
  	</tr>
	<br/>
  	</table>
	</div>
  ]]>
  </Content>
</Module>
