<ui:composition
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util">
<div class="listingLayoutSelector">
  <c:if test="#{currentAvailableListingLayoutNames.size > 1}">

    <h:form id="listingLayoutSelectForm">
      <ul class="layoutViewMode">
        <c:forEach var="layoutName" items="#{currentAvailableListingLayoutNames}">
          <li class="#{nxu:test(layoutName == currentListingLayoutName, 'selected', '')}">
            <h:commandLink action="#{documentListingActions.setLayoutForCurrentDocument(layoutName)}">
              <c:set var="iconPath" value="/icons/#{layoutName}_icon.png" />
              <nxu:graphicImage value="#{iconPath}" title="#{messages[layoutName]}" />
            </h:commandLink>
          </li>
        </c:forEach>
      </ul>
    </h:form>

  </c:if>
  </div>
</ui:composition>