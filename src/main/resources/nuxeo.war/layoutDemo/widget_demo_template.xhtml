<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxl="http://nuxeo.org/nxforms/layout">

<a4j:log />
<c:if test="false">
Displays a widget demo in edit and view modes, with sources.

Needed parameters:
- layoutDemoDocument
- demoLayout  
</c:if>
  <table class="dataOutput">
    <thead>
      <tr>
        <th>
          Edit mode
        </th>
        <th>
          View mode
        </th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td width="50%" valign="top">
          <c:if test="#{useMultipartForm}">
            <h:form id="#{demoLayout.name}_edit_form"
              enctype="multipart/form-data">
              <nxl:layout value="#{layoutDemoDocument}"
                mode="edit"
                name="#{demoLayout.name}" />
              <p class="buttonsGadget">
                <h:commandButton value="submit"
                  styleClass="button"
                  id="#{demoLayout.name}_edit_form_submitButton" />
              </p>
            </h:form>
          </c:if>
          <c:if test="#{not useMultipartForm}">
            <a4j:form id="#{demoLayout.name}_edit_form"
              ajaxSubmit="true">
              <nxl:layout value="#{layoutDemoDocument}"
                mode="edit"
                name="#{demoLayout.name}" />
              <p class="buttonsGadget">
                <a4j:commandButton value="submit"
                  styleClass="button"
                  id="#{demoLayout.name}_edit_form_submitButton"
                  reRender="#{demoLayout.name}_view_form, #{demoLayout.name}_edit_form" />
              </p>
            </a4j:form>
          </c:if>
        </td>
        <td width="50%" valign="top">
          <c:if test="#{useMultipartForm}">
            <h:form id="#{demoLayout.name}_view_form"
              enctype="multipart/form-data">
              <nxl:layout value="#{layoutDemoDocument}" mode="view"
                name="#{demoLayout.name}" />
            </h:form>
          </c:if>
          <c:if test="#{not useMultipartForm}">
            <a4j:form id="#{demoLayout.name}_view_form"
              ajaxSubmit="true">
              <nxl:layout value="#{layoutDemoDocument}" mode="view"
                name="#{demoLayout.name}" />
            </a4j:form>
          </c:if>
        </td>
      </tr>
    </tbody>
  </table>

  
  <ui:include src="/layoutDemo/show_xml_source_template.xhtml">
    <ui:param name="sourcePath" value="#{demoLayout.sourcePath}" />
  </ui:include>

</div>